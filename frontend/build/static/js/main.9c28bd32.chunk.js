(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{28:function(e,t,r){},30:function(e,t,r){},32:function(e,t,r){},33:function(e,t,r){},34:function(e,t,r){},35:function(e,t,r){},36:function(e,t,r){},37:function(e,t,r){},38:function(e,t,r){},39:function(e,t,r){},40:function(e,t,r){},41:function(e,t,r){},42:function(e,t,r){},43:function(e,t,r){},44:function(e,t,r){},45:function(e,t,r){"use strict";r.r(t);var c=r(1),n=r(11),a=r.n(n),s=r(3),o=r(10),i=r(17),l=r(16),j=r(9),u=Object(o.combineReducers)({userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN_REQUEST":return{loading:!0};case"USER_LOGIN_SUCCESS":return{loading:!1,userInfo:t.payload};case"USER_LOGIN_FAIL":return{loading:!1,error:t.payload};case"USER_LOGOUT":return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_REGISTER_REQUEST":return{loading:!0};case"USER_REGISTER_SUCCESS":return{loading:!1,userInfo:t.payload};case"USER_REGISTER_FAIL":return{loading:!1,error:t.payload};case"USER_LOGOUT":return{};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_DETAILS_REQUEST":return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case"USER_DETAILS_SUCCESS":return{loading:!1,user:t.payload};case"USER_DETAILS_FAIL":return{loading:!1,error:t.payload};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_UPDATE_REQUEST":return{loading:!0};case"USER_UPDATE_SUCCESS":return{loading:!1,success:!0,userInfo:t.payload};case"USER_UPDATE_FAIL":return{loading:!1,error:t.payload};case"USER_UPDATE_RESET":return{};default:return e}},carsList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cars:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CARS_LIST_REQUEST":return{loading:!0,cars:[]};case"CARS_LIST_SUCCESS":return{loading:!1,cars:t.payload};case"CARS_LIST_FAIL":return{loading:!1,error:t.payload};default:return e}},carsDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{car:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CARS_DETAILS_REQUEST":return Object(j.a)({loading:!0},e);case"CARS_DETAILS_SUCCESS":return{loading:!1,car:t.payload};case"CARS_DETAILS_FAIL":return{loading:!1,error:t.payload};default:return e}},myCars:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cars:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MY_CARS_REQUEST":return{loading:!0};case"MY_CARS_SUCCESS":return{loading:!1,cars:t.payload};case"MY_CARS_FAIL":return{loading:!1,error:t.payload};default:return e}},createCar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_CAR_REQUEST":return{loading:!0};case"CREATE_CAR_SUCCESS":return{loading:!1,success:!0,car:t.payload};case"CREATE_CAR_FAIL":return{loading:!1,error:t.payload};case"CREATE_CAR_RESET":return{};default:return e}},deleteCar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CARS_DELETE_REQUEST":return{loading:!0};case"CARS_DELETE_SUCCESS":return{loading:!1,success:!0};case"CARS_DELETE_FAIL":return{loading:!1,error:t.payload};default:return e}},updateCar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CARS_UPDATE_REQUEST":return{loading:!0};case"CARS_UPDATE_SUCCESS":return{loading:!1,success:!0,car:t.payload};case"CARS_UPDATE_FAIL":return{loading:!1,error:t.payload};case"CARS_UPDATE_RESET":return{};default:return e}}}),d={userLogin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},p=[i.a],b=Object(o.createStore)(u,d,Object(l.composeWithDevTools)(o.applyMiddleware.apply(void 0,p))),h=(r(28),r(6)),m=r(2),O=r(4),f=r(5),x=r.n(f),S=r(7),g="http://localhost:8000";function E(e){if(e.ok)return e.json();throw e.json()}r(30);var y=r(0),v=function(){var e=Object(c.useState)(!1),t=Object(O.a)(e,2),r=t[0],n=t[1],a=Object(m.e)().pathname,o=Object(s.b)(),i=Object(s.c)((function(e){return e.userLogin})).userInfo,l=Object(s.c)((function(e){return e.carsDetails})),j=l.car,u=l.error;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("header",{children:Object(y.jsxs)("article",{className:"header-article",children:[Object(y.jsxs)("nav",{className:"header-navigation",style:{width:r?250:0},children:[Object(y.jsx)("h1",{className:"header-menu",children:"Menu"}),i&&Object(y.jsxs)("p",{className:"header-username",children:["Hello, ",i.name]}),Object(y.jsx)(h.b,{to:"/",children:"Home"}),i?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(h.b,{to:"/",onClick:function(){o((function(e){localStorage.removeItem("userInfo"),e({type:"USER_LOGOUT"})}))},children:[Object(y.jsx)("i",{className:"fas fa-sign-out-alt"})," Logout"]}),Object(y.jsxs)(h.b,{to:"/profile",children:[Object(y.jsx)("i",{className:"fas fa-user"})," Profile"]}),Object(y.jsxs)(h.b,{to:"/post-car",children:[Object(y.jsx)("i",{className:"fas fa-plus"})," Post a car"]}),Object(y.jsxs)(h.b,{to:"/my-cars",children:[Object(y.jsx)("i",{className:"fas fa-car"})," My Cars"]})]}):Object(y.jsxs)(h.b,{to:"/login",children:[Object(y.jsx)("i",{className:"fas fa-sign-in-alt"})," Login"]}),Object(y.jsx)("button",{className:"header-navigation-closeBtn",onClick:function(){return n(!1)},children:"\xd7"})]}),u||a==="/car/".concat(j._id)?Object(y.jsx)("button",{className:"header-article-menu",children:Object(y.jsx)(h.b,{className:"header-article-back",to:"/",children:Object(y.jsx)("i",{className:"fas fa-arrow-left"})})}):Object(y.jsx)("button",{className:"header-article-menu",onClick:function(){return n(!0)},children:Object(y.jsx)("i",{className:"fas fa-bars"})}),Object(y.jsx)(h.b,{to:"/",children:Object(y.jsx)("h1",{className:"header-article-logo",children:"CARS.com"})})]})})})},_=(r(32),function(){return Object(y.jsx)("footer",{children:Object(y.jsx)("p",{className:"footer-p",children:"Copyright \xa9 Cars"})})}),C=(r(33),function(e){var t=e.car;return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("article",{className:"each-car",children:[Object(y.jsx)("div",{className:"each-car-container",children:Object(y.jsx)(h.b,{to:"/car/".concat(t._id),children:Object(y.jsx)("img",{className:"each-car-image",src:"http://localhost:8000"+t.image,alt:t.make})})}),Object(y.jsxs)("p",{className:"each-car-price",children:["$",t.price]}),Object(y.jsx)(h.b,{className:"each-car-make-link",to:"/car/".concat(t._id),children:Object(y.jsxs)("h2",{className:"each-car-make",children:[t.make," ",t.model]})}),Object(y.jsxs)("p",{className:"each-car-year-fuel",children:[t.year,", ",t.fuel]}),Object(y.jsx)("p",{className:"each-car-description",children:t.description})]})})}),N=(r(34),function(){return Object(y.jsx)("div",{className:"loader"})}),R="http://localhost:8000";function A(e){if(e.ok)return e.json();throw e.json()}var T=function(e){return function(){var t=Object(S.a)(x.a.mark((function t(r){var c,n,a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"CARS_DETAILS_REQUEST"}),t.next=4,fetch("".concat(R,"/api/cars/").concat(e));case 4:return c=t.sent,t.next=7,A(c);case 7:n=t.sent,r({type:"CARS_DETAILS_SUCCESS",payload:n}),t.next=17;break;case 11:return t.prev=11,t.t0=t.catch(0),t.next=15,t.t0;case 15:a=t.sent,r({type:"CARS_DETAILS_FAIL",payload:a.message});case 17:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},U=(r(35),function(e){var t=e.children;return Object(y.jsx)("span",{className:"error-message",children:t})}),w=(r(36),function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.carsList})),r=t.loading,n=t.cars,a=t.error;return Object(c.useEffect)((function(){e(function(){var e=Object(S.a)(x.a.mark((function e(t){var r,c,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"CARS_LIST_REQUEST"}),e.next=4,fetch("".concat(R,"/api/cars"));case 4:return r=e.sent,e.next=7,A(r);case 7:c=e.sent,t({type:"CARS_LIST_SUCCESS",payload:c}),e.next=17;break;case 11:return e.prev=11,e.t0=e.catch(0),e.next=15,e.t0;case 15:n=e.sent,t({type:"CARS_LIST_FAIL",payload:n.message});case 17:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(y.jsx)(y.Fragment,{children:r?Object(y.jsx)(N,{}):a?Object(y.jsx)(U,{children:a}):Object(y.jsx)("section",{className:"home-cars",children:n.map((function(e){return Object(y.jsx)(C,{car:e},e._id)}))})})}),I=(r(37),function(){var e=Object(m.g)().id,t=Object(s.b)(),r=Object(s.c)((function(e){return e.carsDetails})),n=r.loading,a=r.car,o=r.error;return Object(c.useEffect)((function(){t(T(e))}),[e,t]),Object(y.jsx)(y.Fragment,{children:n?Object(y.jsx)(N,{}):o?Object(y.jsx)(U,{children:o}):Object(y.jsxs)("section",{className:"car",children:[Object(y.jsxs)("article",{className:"car-info",children:[Object(y.jsxs)("h1",{className:"car-info-make-model",children:[a.make," ",a.model]}),Object(y.jsxs)("p",{className:"car-info-price",children:[Object(y.jsx)("strong",{children:"Price:"})," $",a.price]}),Object(y.jsxs)("p",{className:"car-info-year",children:[Object(y.jsx)("strong",{children:"Year: "}),a.year]}),Object(y.jsxs)("p",{className:"car-info-fuel",children:[Object(y.jsx)("strong",{children:"Fuel: "}),a.fuel]}),Object(y.jsxs)("p",{className:"car-info-color",children:[Object(y.jsx)("strong",{children:"Color:"})," ",a.color]}),Object(y.jsxs)("p",{className:"car-info-power",children:[Object(y.jsx)("strong",{children:"Power:"})," ",a.power," hp"]}),Object(y.jsx)("p",{className:"car-info-desc",children:a.description}),Object(y.jsxs)("button",{className:"car-info-number",children:[Object(y.jsx)("i",{className:"fas fa-phone"})," ",a.phone]})]}),Object(y.jsx)("img",{className:"car-image",src:"http://localhost:8000"+a.image,alt:a.make})]})})}),L=(r(38),function(){var e=Object(s.b)(),t=Object(m.f)(),r=Object(s.c)((function(e){return e.userLogin})),n=r.loading,a=r.error,o=r.userInfo;Object(c.useEffect)((function(){o&&t("/")}),[t,o]);return Object(y.jsxs)(y.Fragment,{children:[a&&Object(y.jsx)(U,{children:a}),n?Object(y.jsx)(N,{}):Object(y.jsxs)("section",{className:"user-form-container",children:[Object(y.jsx)("h2",{className:"user-form-title",children:"Sign in"}),Object(y.jsxs)("form",{onSubmit:function(t){t.preventDefault();var r=new FormData(t.currentTarget),c=Object.fromEntries(r),n=c.email,a=c.password;e(function(e,t){return function(){var r=Object(S.a)(x.a.mark((function r(c){var n,a,s;return x.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,c({type:"USER_LOGIN_REQUEST"}),r.next=4,fetch("".concat(g,"/api/users/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});case 4:return n=r.sent,r.next=7,E(n);case 7:a=r.sent,c({type:"USER_LOGIN_SUCCESS",payload:a}),localStorage.setItem("userInfo",JSON.stringify(a)),r.next=18;break;case 12:return r.prev=12,r.t0=r.catch(0),r.next=16,r.t0;case 16:s=r.sent,c({type:"USER_LOGIN_FAIL",payload:s.message});case 18:case"end":return r.stop()}}),r,null,[[0,12]])})));return function(e){return r.apply(this,arguments)}}()}(n,a))},className:"user-form",children:[Object(y.jsx)("article",{className:"user-form-email",children:Object(y.jsx)("input",{type:"text",name:"email",id:"email",placeholder:"E-mail"})}),Object(y.jsx)("article",{className:"user-form-password",children:Object(y.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"Password"})}),Object(y.jsx)("button",{className:"user-form-btn",children:"Sign In"})]}),Object(y.jsxs)("p",{className:"user-login-register",children:["Don't have an account yet, click"," ",Object(y.jsx)(h.b,{to:"/register",className:"link-login-register",children:"Sign up"}),"."]})]})]})}),k=(r(39),function(){var e=Object(c.useState)(null),t=Object(O.a)(e,2),r=t[0],n=t[1],a=Object(s.b)(),o=Object(m.f)(),i=Object(s.c)((function(e){return e.userRegister})),l=i.loading,j=i.error,u=i.userInfo;Object(c.useEffect)((function(){u&&o("/")}),[o,u]);return Object(y.jsxs)(y.Fragment,{children:[r&&Object(y.jsx)(U,{children:r}),j&&Object(y.jsx)(U,{children:j}),l?Object(y.jsx)(N,{}):Object(y.jsxs)("section",{className:"user-register-form-container",children:[Object(y.jsx)("h2",{className:"user-form-title",children:"Create account"}),Object(y.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=new FormData(e.currentTarget),r=Object.fromEntries(t),c=r.name,s=r.email,i=r.password;i!==r.confirmPassword?n("Passwords don't match"):(a(function(e,t,r){return function(){var c=Object(S.a)(x.a.mark((function c(n){var a,s,o;return x.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,n({type:"USER_REGISTER_REQUEST"}),c.next=4,fetch("".concat(g,"/api/users"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:t,password:r})});case 4:return a=c.sent,c.next=7,E(a);case 7:s=c.sent,n({type:"USER_REGISTER_SUCCESS",payload:s}),n({type:"USER_LOGIN_SUCCESS",payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),c.next=19;break;case 13:return c.prev=13,c.t0=c.catch(0),c.next=17,c.t0;case 17:o=c.sent,n({type:"USER_REGISTER_FAIL",payload:o.message});case 19:case"end":return c.stop()}}),c,null,[[0,13]])})));return function(e){return c.apply(this,arguments)}}()}(c,s,i)),o("/"))},className:"user-form",children:[Object(y.jsx)("article",{className:"user-form-name",children:Object(y.jsx)("input",{type:"text",name:"name",id:"name",placeholder:"Username"})}),Object(y.jsx)("article",{className:"user-form-email",children:Object(y.jsx)("input",{type:"text",name:"email",id:"email",placeholder:"E-mail"})}),Object(y.jsx)("article",{className:"user-form-password",children:Object(y.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"Password"})}),Object(y.jsx)("article",{className:"user-form-password",children:Object(y.jsx)("input",{type:"password",name:"confirmPassword",id:"confirmPassword",placeholder:"Confirm Password"})}),Object(y.jsx)("button",{className:"user-form-btn",children:"Sign up"})]}),Object(y.jsxs)("p",{className:"user-login-register",children:["Have an Account?"," ",Object(y.jsx)(h.b,{to:"/login",className:"link-login-register",children:"Sign in"}),"."]})]})]})}),D=(r(40),function(){var e=Object(c.useState)(""),t=Object(O.a)(e,2),r=t[0],n=t[1],a=Object(c.useState)(""),o=Object(O.a)(a,2),i=o[0],l=o[1],j=Object(c.useState)(""),u=Object(O.a)(j,2),d=u[0],p=u[1],b=Object(c.useState)(""),h=Object(O.a)(b,2),f=h[0],v=h[1],_=Object(c.useState)(null),C=Object(O.a)(_,2),R=C[0],A=C[1],T=Object(s.b)(),w=Object(m.f)(),I=Object(s.c)((function(e){return e.userDetails})),L=I.loading,k=I.error,D=I.user,P=Object(s.c)((function(e){return e.userLogin})).userInfo,F=Object(s.c)((function(e){return e.userUpdate})).success;Object(c.useEffect)((function(){P?D&&D.name&&!F?(n(D.name),l(D.email)):(T({type:"USER_UPDATE_RESET"}),T(function(){var e=Object(S.a)(x.a.mark((function e(t,r){var c,n,a,s,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"USER_DETAILS_REQUEST"}),c=r(),n=c.userLogin.userInfo,e.next=5,fetch("".concat(g,"/api/users/profile"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.token)}});case 5:return a=e.sent,e.next=8,E(a);case 8:s=e.sent,t({type:"USER_DETAILS_SUCCESS",payload:s}),e.next=18;break;case 12:return e.prev=12,e.t0=e.catch(0),e.next=16,e.t0;case 16:o=e.sent,t({type:"USER_DETAILS_FAIL",payload:o.message});case 18:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}())):w("/login")}),[T,D,w,P,F]);return Object(y.jsxs)(y.Fragment,{children:[R&&Object(y.jsx)(U,{children:R}),k&&Object(y.jsx)(U,{children:k}),L?Object(y.jsx)(N,{}):Object(y.jsxs)("section",{className:"user-register-form-container",children:[Object(y.jsx)("h2",{className:"user-form-title",children:"User Profile"}),Object(y.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d!==f?A("Passwords don't match"):T(function(e){return function(){var t=Object(S.a)(x.a.mark((function t(r,c){var n,a,s,o,i;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"USER_UPDATE_REQUEST"}),n=c(),a=n.userLogin.userInfo,t.next=5,fetch("".concat(g,"/api/users/profile"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.token)},body:JSON.stringify(e)});case 5:return s=t.sent,t.next=8,E(s);case 8:o=t.sent,r({type:"USER_UPDATE_SUCCESS",payload:o}),r({type:"USER_LOGIN_SUCCESS",payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),t.next=20;break;case 14:return t.prev=14,t.t0=t.catch(0),t.next=18,t.t0;case 18:i=t.sent,r({type:"USER_UPDATE_FAIL",payload:i.message});case 20:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,r){return t.apply(this,arguments)}}()}({id:D._id,name:r,email:i,password:d}))},className:"user-form",children:[Object(y.jsx)("article",{className:"user-form-name",children:Object(y.jsx)("input",{type:"text",name:"name",id:"name",placeholder:"Username",value:r,onChange:function(e){return n(e.target.value)}})}),Object(y.jsx)("article",{className:"user-form-email",children:Object(y.jsx)("input",{type:"text",name:"email",id:"email",placeholder:"E-mail",value:i,onChange:function(e){return l(e.target.value)}})}),Object(y.jsx)("article",{className:"user-form-password",children:Object(y.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"Password",value:d,onChange:function(e){return p(e.target.value)}})}),Object(y.jsx)("article",{className:"user-form-password",children:Object(y.jsx)("input",{type:"password",name:"confirmPassword",id:"confirmPassword",placeholder:"Confirm Password",value:f,onChange:function(e){return v(e.target.value)}})}),Object(y.jsx)("button",{className:"user-form-btn",children:"Update"})]})]})]})}),P=(r(41),function(){var e=Object(s.b)(),t=Object(m.f)(),r=Object(s.c)((function(e){return e.userLogin})).userInfo,n=Object(s.c)((function(e){return e.myCars})),a=n.loading,o=n.cars,i=n.error,l=Object(s.c)((function(e){return e.deleteCar})),j=l.error,u=l.success;Object(c.useEffect)((function(){r||t("/login"),e(function(){var e=Object(S.a)(x.a.mark((function e(t,r){var c,n,a,s,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"MY_CARS_REQUEST"}),c=r(),n=c.userLogin.userInfo,e.next=5,fetch("".concat(R,"/api/cars/mycars"),{method:"GET",headers:{Authorization:"Bearer ".concat(n.token)}});case 5:return a=e.sent,e.next=8,A(a);case 8:s=e.sent,t({type:"MY_CARS_SUCCESS",payload:s}),e.next=18;break;case 12:return e.prev=12,e.t0=e.catch(0),e.next=16,e.t0;case 16:o=e.sent,t({type:"MY_CARS_FAIL",payload:o.message});case 18:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}())}),[e,r,t,u]);var d=function(t){window.confirm("Are you sure?")&&e(function(e){return function(){var t=Object(S.a)(x.a.mark((function t(r,c){var n,a,s,o,i;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"CARS_DELETE_REQUEST"}),n=c(),a=n.userLogin.userInfo,t.next=5,fetch("".concat(R,"/api/cars/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(a.token)}});case 5:return s=t.sent,t.next=8,A(s);case 8:o=t.sent,r({type:"CARS_DELETE_SUCCESS",payload:o}),t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(0),t.next=16,t.t0;case 16:i=t.sent,r({type:"CARS_DELETE_FAIL",payload:i.message});case 18:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,r){return t.apply(this,arguments)}}()}(t))};return Object(y.jsxs)(y.Fragment,{children:[j&&Object(y.jsx)(U,{children:j}),a?Object(y.jsx)(N,{}):i?Object(y.jsx)(U,{children:i}):Object(y.jsx)("section",{className:"my-cars",children:o.map((function(e){return Object(y.jsxs)("article",{className:"my-car",children:[Object(y.jsx)("img",{className:"my-car-img",src:"http://localhost:8000"+e.image,alt:e.make}),Object(y.jsxs)("article",{className:"my-car-info",children:[Object(y.jsxs)("h1",{className:"my-car-title",children:[e.make," ",e.model]}),Object(y.jsxs)("article",{className:"my-car-desc",children:[Object(y.jsxs)("p",{children:["Fuel: ",e.fuel]}),Object(y.jsxs)("p",{children:["Color: ",e.fuel]}),Object(y.jsxs)("p",{children:["Year: ",e.year]})]}),Object(y.jsxs)("p",{className:"my-car-price",children:["$",e.price]}),Object(y.jsxs)("article",{className:"my-car-btn",children:[Object(y.jsx)(h.b,{to:"/cars/".concat(e._id,"/edit"),children:Object(y.jsx)("i",{className:"fas fa-edit"})}),Object(y.jsxs)("button",{onClick:function(){return d(e._id)},children:[" ",Object(y.jsx)("i",{className:"fas fa-trash"})]})]})]})]},e._id)}))})]})}),F=(r(42),function(){var e=Object(s.b)(),t=Object(m.f)(),r=Object(c.useState)(""),n=Object(O.a)(r,2),a=n[0],o=n[1],i=Object(c.useState)(!1),l=Object(O.a)(i,2),j=l[0],u=l[1],d=Object(s.c)((function(e){return e.userLogin})).userInfo,p=Object(s.c)((function(e){return e.createCar})),b=p.loading,h=p.error,f=p.success;Object(c.useEffect)((function(){d||t("/login"),f&&(t("/"),e({type:"CREATE_CAR_RESET"}))}),[t,d,e,f]);var g=function(){var e=Object(S.a)(x.a.mark((function e(t){var r,c,n,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.files[0],(c=new FormData).append("image",r),u(!0),e.prev=4,e.next=7,fetch("http://localhost:8000/api/uploads",{method:"POST",body:c});case 7:return n=e.sent,e.next=10,n.json();case 10:a=e.sent,o(a),u(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),console.error(e.t0),u(!1);case 19:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)(y.Fragment,{children:[h&&Object(y.jsx)(U,{children:h}),b?Object(y.jsx)(N,{}):Object(y.jsxs)("section",{className:"car-create-form-container",children:[Object(y.jsx)("h2",{className:"car-form-title",children:"Create a car"}),Object(y.jsxs)("form",{onSubmit:function(t){t.preventDefault();var r=new FormData(t.currentTarget),c=Object.fromEntries(r),n=c.make,s=c.model,o=c.price,i=c.year,l=c.fuel,j=c.color,u=c.power,d=c.phone,p=c.description;e(function(e,t,r,c,n,a,s,o,i,l){return function(){var j=Object(S.a)(x.a.mark((function j(u,d){var p,b,h,m,O;return x.a.wrap((function(j){for(;;)switch(j.prev=j.next){case 0:return j.prev=0,u({type:"CREATE_CAR_REQUEST"}),p=d(),b=p.userLogin.userInfo,j.next=5,fetch("".concat(R,"/api/cars"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(b.token)},body:JSON.stringify({make:e,model:t,image:r,price:c,year:n,fuel:a,color:s,power:o,phone:i,description:l})});case 5:return h=j.sent,j.next=8,A(h);case 8:m=j.sent,u({type:"CREATE_CAR_SUCCESS",payload:m}),j.next=18;break;case 12:return j.prev=12,j.t0=j.catch(0),j.next=16,j.t0;case 16:O=j.sent,u({type:"CREATE_CAR_FAIL",payload:O.message});case 18:case"end":return j.stop()}}),j,null,[[0,12]])})));return function(e,t){return j.apply(this,arguments)}}()}(n,s,a,o,i,l,j,u,d,p))},className:"car-form",encType:"multipart/form-data",children:[Object(y.jsxs)("div",{className:"car-form-second-container",children:[Object(y.jsxs)("div",{className:"car-form-first",children:[Object(y.jsx)("article",{children:Object(y.jsxs)("select",{className:"car-form-make",name:"make",id:"make",children:[Object(y.jsx)("option",{children:"Make"}),Object(y.jsx)("option",{children:"Alfa Romeo"}),Object(y.jsx)("option",{children:"Aston Martin"}),Object(y.jsx)("option",{children:"Audi"}),Object(y.jsx)("option",{children:"BMW"}),Object(y.jsx)("option",{children:"Bentley"}),Object(y.jsx)("option",{children:"Bugatti"}),Object(y.jsx)("option",{children:"Cadillac"}),Object(y.jsx)("option",{children:"Chevrolet"}),Object(y.jsx)("option",{children:"Citroen"}),Object(y.jsx)("option",{children:"Dodge"}),Object(y.jsx)("option",{children:"Ferrari"}),Object(y.jsx)("option",{children:"Ford"}),Object(y.jsx)("option",{children:"Jaguar"}),Object(y.jsx)("option",{children:"Jeep"}),Object(y.jsx)("option",{children:"Lamborghini"}),Object(y.jsx)("option",{children:"Land Rover"}),Object(y.jsx)("option",{children:"Mercedes-Benz"}),Object(y.jsx)("option",{children:"Mitsubishi"}),Object(y.jsx)("option",{children:"Opel"}),Object(y.jsx)("option",{children:"Porsche"}),Object(y.jsx)("option",{children:"Rolls-Royce"}),Object(y.jsx)("option",{children:"Suzuki"}),Object(y.jsx)("option",{children:"Toyota"})]})}),Object(y.jsx)("article",{className:"car-form-model",children:Object(y.jsx)("input",{type:"text",name:"model",id:"model",placeholder:"Model"})}),Object(y.jsx)("article",{className:"car-form-image",children:Object(y.jsx)("input",{type:"text",id:"image",placeholder:"Image",value:a,onChange:function(e){return o(e.target.value)}})}),Object(y.jsxs)("article",{className:"car-form-image",children:[Object(y.jsx)("input",{type:"file",id:"image-file",placeholder:"Image",onChange:g}),j&&Object(y.jsx)(N,{})]}),Object(y.jsx)("article",{className:"car-form-price",children:Object(y.jsx)("input",{type:"number",name:"price",id:"price",placeholder:"Price"})}),Object(y.jsx)("article",{className:"car-form-year",children:Object(y.jsx)("input",{type:"number",name:"year",id:"year",placeholder:"Year"})})]}),Object(y.jsxs)("div",{className:"car-form-two",children:[Object(y.jsxs)("select",{className:"car-form-make",name:"fuel",id:"fuel",children:[Object(y.jsx)("option",{children:"Fuel"}),Object(y.jsx)("option",{children:"Petrol"}),Object(y.jsx)("option",{children:"Diesel"}),Object(y.jsx)("option",{children:"Electric"}),Object(y.jsx)("option",{children:"Hybrid"})]}),Object(y.jsx)("article",{className:"car-form-color",children:Object(y.jsx)("input",{type:"text",name:"color",id:"color",placeholder:"Color"})}),Object(y.jsx)("article",{className:"car-form-power",children:Object(y.jsx)("input",{type:"number",name:"power",id:"power",placeholder:"Power"})}),Object(y.jsx)("article",{className:"car-form-phone",children:Object(y.jsx)("input",{type:"tel",name:"phone",id:"phone",placeholder:"Phone: 089*******",pattern:"[0-9]{10}"})})]})]}),Object(y.jsx)("article",{className:"car-form-description",children:Object(y.jsx)("textarea",{type:"number",name:"description",id:"description",placeholder:"Description..."})}),Object(y.jsx)("button",{className:"car-form-btn",children:"Create a car"})]})]})]})}),M=(r(43),function(){var e=Object(s.b)(),t=Object(m.f)(),r=Object(m.g)().id,n=Object(c.useState)(""),a=Object(O.a)(n,2),o=a[0],i=a[1],l=Object(c.useState)(""),j=Object(O.a)(l,2),u=j[0],d=j[1],p=Object(c.useState)(""),b=Object(O.a)(p,2),h=b[0],f=b[1],g=Object(c.useState)(0),E=Object(O.a)(g,2),v=E[0],_=E[1],C=Object(c.useState)(0),w=Object(O.a)(C,2),I=w[0],L=w[1],k=Object(c.useState)(""),D=Object(O.a)(k,2),P=D[0],F=D[1],M=Object(c.useState)(""),Q=Object(O.a)(M,2),G=Q[0],B=Q[1],J=Object(c.useState)(0),z=Object(O.a)(J,2),Y=z[0],H=z[1],W=Object(c.useState)(0),$=Object(O.a)(W,2),q=$[0],K=$[1],V=Object(c.useState)(""),X=Object(O.a)(V,2),Z=X[0],ee=X[1],te=Object(c.useState)(!1),re=Object(O.a)(te,2),ce=re[0],ne=re[1],ae=Object(s.c)((function(e){return e.userLogin})).userInfo,se=Object(s.c)((function(e){return e.carsDetails})).car,oe=Object(s.c)((function(e){return e.updateCar})),ie=oe.loading,le=oe.error,je=oe.success;Object(c.useEffect)((function(){ae||t("/login"),je?(e({type:"CARS_UPDATE_RESET"}),t("/my-cars")):se.make&&se._id===r?(i(se.make),d(se.model),f(se.image),_(se.price),L(se.year),F(se.fuel),B(se.color),H(se.power),K(se.phone),ee(se.description)):e(T(r))}),[t,ae,e,se,r,je]);var ue=function(){var e=Object(S.a)(x.a.mark((function e(t){var r,c,n,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.files[0],(c=new FormData).append("image",r),ne(!0),e.prev=4,e.next=7,fetch("http://localhost:8000/api/uploads",{method:"POST",body:c});case 7:return n=e.sent,e.next=10,n.json();case 10:a=e.sent,f(a),ne(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),console.error(e.t0),ne(!1);case 19:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)(y.Fragment,{children:[le&&Object(y.jsx)(U,{children:le}),ie?Object(y.jsx)(N,{}):Object(y.jsxs)("section",{className:"car-form-container",children:[Object(y.jsx)("h2",{className:"car-form-title",children:"Edit car"}),Object(y.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(function(e){return function(){var t=Object(S.a)(x.a.mark((function t(r,c){var n,a,s,o,i;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"CARS_UPDATE_REQUEST"}),n=c(),a=n.userLogin.userInfo,t.next=5,fetch("".concat(R,"/api/cars/").concat(e._id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.token)},body:JSON.stringify(e)});case 5:return s=t.sent,t.next=8,A(s);case 8:o=t.sent,r({type:"CARS_UPDATE_SUCCESS",payload:o}),t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(0),t.next=16,t.t0;case 16:i=t.sent,r({type:"CARS_UPDATE_FAIL",payload:i.message});case 18:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,r){return t.apply(this,arguments)}}()}({_id:r,make:o,model:u,image:h,price:v,year:I,fuel:P,color:G,power:Y,phone:q,description:Z}))},className:"car-form",children:[Object(y.jsxs)("div",{className:"car-form-second-container",children:[Object(y.jsxs)("div",{className:"car-form-first",children:[Object(y.jsx)("article",{children:Object(y.jsxs)("select",{className:"car-form-make",name:"make",id:"make",value:o,onChange:function(e){return i(e.target.value)},children:[Object(y.jsx)("option",{children:"Make"}),Object(y.jsx)("option",{children:"Alfa Romeo"}),Object(y.jsx)("option",{children:"Aston Martin"}),Object(y.jsx)("option",{children:"Audi"}),Object(y.jsx)("option",{children:"BMW"}),Object(y.jsx)("option",{children:"Bentley"}),Object(y.jsx)("option",{children:"Bugatti"}),Object(y.jsx)("option",{children:"Cadillac"}),Object(y.jsx)("option",{children:"Chevrolet"}),Object(y.jsx)("option",{children:"Citroen"}),Object(y.jsx)("option",{children:"Dodge"}),Object(y.jsx)("option",{children:"Ferrari"}),Object(y.jsx)("option",{children:"Ford"}),Object(y.jsx)("option",{children:"Jaguar"}),Object(y.jsx)("option",{children:"Jeep"}),Object(y.jsx)("option",{children:"Lamborghini"}),Object(y.jsx)("option",{children:"Land Rover"}),Object(y.jsx)("option",{children:"Mercedes-Benz"}),Object(y.jsx)("option",{children:"Mitsubishi"}),Object(y.jsx)("option",{children:"Opel"}),Object(y.jsx)("option",{children:"Porsche"}),Object(y.jsx)("option",{children:"Rolls-Royce"}),Object(y.jsx)("option",{children:"Suzuki"}),Object(y.jsx)("option",{children:"Toyota"})]})}),Object(y.jsx)("article",{className:"car-form-model",children:Object(y.jsx)("input",{type:"text",name:"model",id:"model",placeholder:"Model",value:u,onChange:function(e){return d(e.target.value)}})}),Object(y.jsx)("article",{className:"car-form-image",children:Object(y.jsx)("input",{type:"text",id:"image",placeholder:"Image",value:h,onChange:function(e){return f(e.target.value)}})}),Object(y.jsxs)("article",{className:"car-form-image",children:[Object(y.jsx)("input",{type:"file",id:"image-file",placeholder:"Image",onChange:ue}),ce&&Object(y.jsx)(N,{})]}),Object(y.jsx)("article",{className:"car-form-price",children:Object(y.jsx)("input",{type:"number",name:"price",id:"price",placeholder:"Price",value:v,onChange:function(e){return _(e.target.value)}})}),Object(y.jsx)("article",{className:"car-form-year",children:Object(y.jsx)("input",{type:"number",name:"year",id:"year",placeholder:"Year",value:I,onChange:function(e){return L(e.target.value)}})})]}),Object(y.jsxs)("div",{className:"car-form-two",children:[Object(y.jsxs)("select",{className:"car-form-make",name:"fuel",id:"fuel",value:P,onChange:function(e){return F(e.target.value)},children:[Object(y.jsx)("option",{children:"Fuel"}),Object(y.jsx)("option",{children:"Petrol"}),Object(y.jsx)("option",{children:"Diesel"}),Object(y.jsx)("option",{children:"Electric"}),Object(y.jsx)("option",{children:"Hybrid"})]}),Object(y.jsx)("article",{className:"car-form-color",children:Object(y.jsx)("input",{type:"text",name:"color",id:"color",placeholder:"Color",value:G,onChange:function(e){return B(e.target.value)}})}),Object(y.jsx)("article",{className:"car-form-power",children:Object(y.jsx)("input",{type:"number",name:"power",id:"power",placeholder:"Power",value:Y,onChange:function(e){return H(e.target.value)}})}),Object(y.jsx)("article",{className:"car-form-phone",children:Object(y.jsx)("input",{type:"tel",name:"phone",id:"phone",placeholder:"Phone: 089*******",pattern:"[0-9]{10}",value:q,onChange:function(e){return K(e.target.value)}})})]})]}),Object(y.jsx)("article",{className:"car-form-description",children:Object(y.jsx)("textarea",{type:"number",name:"description",id:"description",placeholder:"Description...",value:Z,onChange:function(e){return ee(e.target.value)}})}),Object(y.jsx)("button",{className:"car-form-btn",children:"Update"})]})]})]})}),Q=(r(44),function(){return Object(y.jsxs)("div",{className:"site",children:[Object(y.jsxs)("div",{className:"sketch",children:[Object(y.jsx)("div",{className:"bee-sketch red"}),Object(y.jsx)("div",{className:"bee-sketch blue"})]}),Object(y.jsxs)("h1",{className:"not-found-title",children:["404:",Object(y.jsx)("small",{children:"Not Found"})]})]})}),G=function(){return Object(y.jsxs)(h.a,{children:[Object(y.jsx)(v,{}),Object(y.jsx)("main",{children:Object(y.jsxs)(m.c,{children:[Object(y.jsx)(m.a,{path:"*",element:Object(y.jsx)(Q,{})}),Object(y.jsx)(m.a,{path:"/",element:Object(y.jsx)(w,{})}),Object(y.jsx)(m.a,{path:"/car/:id",element:Object(y.jsx)(I,{})}),Object(y.jsx)(m.a,{path:"/login",element:Object(y.jsx)(L,{})}),Object(y.jsx)(m.a,{path:"/register",element:Object(y.jsx)(k,{})}),Object(y.jsx)(m.a,{path:"/profile",element:Object(y.jsx)(D,{})}),Object(y.jsx)(m.a,{path:"/post-car",element:Object(y.jsx)(F,{})}),Object(y.jsx)(m.a,{path:"/cars/:id/edit",element:Object(y.jsx)(M,{})}),Object(y.jsx)(m.a,{path:"/my-cars",element:Object(y.jsx)(P,{})})]})}),Object(y.jsx)(_,{})]})},B=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,46)).then((function(t){var r=t.getCLS,c=t.getFID,n=t.getFCP,a=t.getLCP,s=t.getTTFB;r(e),c(e),n(e),a(e),s(e)}))};a.a.render(Object(y.jsx)(s.a,{store:b,children:Object(y.jsx)(G,{})}),document.getElementById("root")),B()}},[[45,1,2]]]);
//# sourceMappingURL=main.9c28bd32.chunk.js.map